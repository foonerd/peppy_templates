# Contributing Templates

Thank you for contributing to the PeppyMeter template collection.

## Quick Start

1. Create your template as a zip file
2. Upload to correct category/resolution folder
3. Automation generates README and catalog entries

## Categories

| Category | Content | Use Case |
|----------|---------|----------|
| `template_peppy` | VU meters only | Meter without spectrum |
| `templates_spectrum` | Spectrum only | Spectrum without meter |
| `templates_peppy_spectrum` | Both combined | **Preferred for paired skins** |

## Zip Structures by Category

### template_peppy (VU meter only)

```
800x480_retro_wood.zip
  +-- 800x480_retro_wood/
        +-- meters.txt
        +-- preview.png
        +-- *.png (assets)
```

**Install:** Extract and copy folder to `/data/INTERNAL/peppy_screensaver/templates/`

### templates_spectrum (Spectrum only)

```
800x480_retro_wood.zip
  +-- 800x480_retro_wood/
        +-- spectrum.txt
        +-- preview.png
        +-- *.png (assets)
```

**Install:** Extract and copy folder to `/data/INTERNAL/peppy_screensaver/templates_spectrum/`

### templates_peppy_spectrum (Combined - Preferred)

This is the **preferred category** for skins that have both VU meter and spectrum components.

```
800x480_retro_wood.zip
  +-- 800x480_retro_wood/
        +-- preview.png
        +-- templates/
        |     +-- 800x480_retro_wood/
        |           +-- meters.txt
        |           +-- *.png (meter assets)
        +-- templates_spectrum/
              +-- 800x480_retro_wood/
                    +-- spectrum.txt
                    +-- *.png (spectrum assets)
```

**Install steps:**
1. Download the zip file
2. Extract the zip file
3. Open the extracted folder - you will see `templates/` and `templates_spectrum/` subfolders
4. Copy the contents of `templates/` to `/data/INTERNAL/peppy_screensaver/templates/`
5. Copy the contents of `templates_spectrum/` to `/data/INTERNAL/peppy_screensaver/templates_spectrum/`

## Browsing Templates

Users can browse all templates in the [Template Catalog](catalog/README.md) organized by resolution.

## Folder Structure in Repository

```
[category]/[width]/[height]/
    [template-name].zip
```

**Example:**
```
templates_peppy_spectrum/0800/480/800x480_retro_wood.zip
template_peppy/1920/1080/1920x1080_cassette.zip
```

## Required Files

| File | Required | Description |
|------|----------|-------------|
| `meters.txt` | Yes (VU meters) | Meter configuration |
| `spectrum.txt` | Yes (Spectrum) | Spectrum configuration |
| `preview.png` or `preview.jpg` | Yes | Screenshot for gallery |
| Graphics files | Yes | PNG/JPG assets |

**Note:** README.md is auto-generated by the workflow - do not include one.

## Naming Convention

Template names should follow: `[resolution]_[name]`

**Examples:**
- `800x480_mcintosh_mc275`
- `1920x1080_neon_blue`
- `1280x720_retro_vfd`

**Rules:**
- Use underscores, not hyphens or spaces
- Lowercase preferred
- No version numbers in name
- Resolution prefix helps organization

## Preview Image

- Filename: `preview.png` or `preview.jpg` (also accepts `art.png`, `art.jpg`)
- Size: Match template resolution or proportionally smaller
- Content: Show template with sample track metadata displayed
- File size: Under 200KB recommended

## Template Packs

A single zip can contain multiple meter definitions in one `meters.txt`:

```ini
[Meter_Style_1]
meter.type = linear
...

[Meter_Style_2]
meter.type = linear
...
```

The automation detects packs and lists all included meters in the README.

## Submission Process

### For Collaborators (direct push)

1. Clone repository
2. Add your `.zip` file(s) to correct path
3. Commit: `git commit -m "Add template-name for WIDTHxHEIGHT"`
4. Push to main
5. Workflow auto-generates README

### For Contributors (pull request)

1. Fork repository
2. Create branch: `git checkout -b add-template-name`
3. Add your `.zip` file(s) to correct path
4. Push and create Pull Request
5. After merge, workflow auto-generates README

## Pull Request Description

Include:
- Template name and resolution
- Category (template_peppy / templates_peppy_spectrum / templates_spectrum)
- Hardware tested on (Pi model, display resolution)
- Credits for external assets (fonts, graphics)

## Quality Checklist

Before submitting:

- [ ] Zip contains single folder with all files
- [ ] `meters.txt` or `spectrum.txt` present and valid
- [ ] `preview.png` or `preview.jpg` included
- [ ] Works at target resolution
- [ ] No visual glitches
- [ ] All text readable
- [ ] Reasonable CPU usage on target device
- [ ] Tested on actual hardware

## Asset Guidelines

| Type | Format | Notes |
|------|--------|-------|
| Background | PNG or JPG | Match template resolution |
| Foreground | PNG | Requires transparency |
| Needle/Bar | PNG | Requires transparency |
| Vinyl/Reel | PNG | Requires transparency |
| Tonearm | PNG | Requires transparency |
| Album art mask | PNG | Requires transparency |
| Preview | PNG or JPG | For gallery display |

## Configuration Reference

See documentation:
- [METERS.md](docs/METERS.md) - VU meter configuration
- [SPECTRUM.md](docs/SPECTRUM.md) - Spectrum analyzer configuration

## Animation Features

Templates can include animated elements:

| Feature | Use Case |
|---------|----------|
| Album art rotation | Spinning record label effect |
| Vinyl turntable | Spinning disc under album art |
| Cassette reels | Rotating tape spools |
| Tonearm | Arm tracking playback progress |
| Playback indicators | Volume, mute, shuffle, repeat, play/pause, progress |

See METERS.md for configuration details.

## Questions

Open an issue with `question` label or ask in the Volumio community forum.
